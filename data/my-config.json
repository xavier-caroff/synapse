{
	"additionalPackageFolders": [
    ],
    "blocks": [
        {
            "name": "tcp-reader",
            "className": "synapse::modules::io::TcpClientSource",
            "config": {
                "host": "127.0.0.1",
                "port": 8080,
                "retryDelay": 5
            }
        },
        {
            "name": "raw-file-logger",
            "className": "synapse::modules::io::FileLoggerSink",
            "config": {
                "folder": "C:\\TEMP\\synapse-log",
                "fileNameTemplate": "tcp-raw-{:%Y-%m-%dT%H-%M-%S}.log",
                "rotation": {
                    "strategy": "size",
                    "size": 1048576
                }
            }
        },
        {
            "name": "regular-framer",
            "className": "synapse::modules::io::FramerFiber",
            "config": {
                "start": "$",
                "end": "\\r\\n",
                "bufferSize": 1024
            }
        },
        {
            "name": "ais-framer",
            "className": "synapse::modules::io::FramerFiber",
            "config": {
                "start": "!",
                "end": "\\r\\n",
                "bufferSize": 1024
            }
        },
        {
            "name": "nmea0183-framer",
            "className": "synapse::modules::marine::Nmea0183FramerFiber",
            "config": {
                "bufferSize": 1024
            }
        },
        {
            "name": "regular-file-logger",
            "className": "synapse::modules::io::FileLoggerSink",
            "config": {
                "folder": "C:\\TEMP\\synapse-log",
                "fileNameTemplate": "tcp-regular-framed-{:%Y-%m-%dT%H-%M-%S}.log",
                "rotation": {
                    "strategy": "time",
                    "delay": 10
                }
            }
        },
        {
            "name": "ais-file-logger",
            "className": "synapse::modules::io::FileLoggerSink",
            "config": {
                "folder": "C:\\TEMP\\synapse-log",
                "fileNameTemplate": "tcp-ais-framed-{:%Y-%m-%dT%H-%M-%S}.log",
                "rotation": {
                    "strategy": "time",
                    "delay": 15
                }
            }
        },
        {
            "name": "nmea0183-file-logger",
            "className": "synapse::modules::io::FileLoggerSink",
            "config": {
                "folder": "C:\\TEMP\\synapse-log",
                "fileNameTemplate": "tcp-nmea0183-framed-{:%Y-%m-%dT%H-%M-%S}.log",
                "rotation": {
                    "strategy": "time",
                    "delay": 15
                }
            }
        }
	],
    "routes": [
        {
            "sources": ["tcp-reader"],
            "destinations": ["regular-framer", "ais-framer", "nmea0183-framer", "raw-file-logger"]
        },
        {
            "sources": ["regular-framer"],
            "destinations": ["regular-file-logger"]
        },
        {
            "sources": ["ais-framer"],
            "destinations": ["ais-file-logger"]
        },
        {
            "sources": ["nmea0183-framer"],
            "destinations": ["nmea0183-file-logger"]
        }
    ]
}